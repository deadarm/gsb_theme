// GENERAL STYLES

// HEADER
#header-wrapper
  +breakpoint($bp-wide-min)
    border-top: 10px $red-dark solid
  #header
    +breakpoint($bp-wide-min)
      height: 152px
    margin: 0 auto
    max-width: $max-width
    .no-js &, .no-svg &
      +breakpoint($bp-mobile-max)
        min-height: 135px

// CONTENT
#content-wrapper
  //+box-shadow( -1px 0 5px inset)
  position: relative
  background: $white
  &:after,
  &:before
    content: "" !important
    position: absolute
    left: 0
    width: 100%
    height: 5px !important
    visibility: visible
  &:after
    +box-shadow(0px -2px 2px rgba(0,0,0,.3) inset)
    bottom: 0
  &:before
    +box-shadow(0px 2px 2px rgba(0,0,0,.3) inset)
    top: 0px


  #content
    margin: 0 auto
    padding-top: 30px
    padding-bottom: 12px
    max-width: $max-width
    +breakpoint($bp-mobile-max)
      padding-top: 0

#main
  +breakpoint($bp-tablet-port)
    padding: 30px 20px 12px
  +breakpoint($bp-mobile-max)
    padding: 15px

// BOTTOM
#bottom
  background: $white
  .bottom-content
    margin: 0 auto
    max-width: $max-width
    +breakpoint($bp-tablet-port)
      padding: 0 20px
    +breakpoint($bp-mobile-max)
      padding: 0 15px

// Front page courtyard image
.front #content-wrapper
  +breakpoint($bp-tablet-port-min)
    +background(image_url("bg-quad-home.png") top center no-repeat, linear-gradient($white, #e4e4e4))

// Inner page courtyard image
.not-front #content-wrapper
  +breakpoint($bp-tablet-port-min)
    +background(image_url("bg-quad-standard.png") bottom center no-repeat, linear-gradient($white, #f5f5f5))

// No courtyard on BI
.page-business-insights #content-wrapper
  background-image: none

// Faculty grid
.page-faculty-research-faculty
  #content-wrapper
    +breakpoint($bp-tablet-port-min)
      +background(image_url("bg-facultygrid.jpg") center top no-repeat, $white)

// Clubs is different
.page-stanford-gsb-experience-life-stanford-activities-organizations #content-wrapper
  +breakpoint($bp-tablet-port-min)
    +background(image_url("bg-quad-standard.png") bottom center no-repeat, linear-gradient($white, #f5f5f5))

// MSx Fellows page
.page-programs-msx,
.node-type-msx-fellows
  #content-wrapper
    +breakpoint($bp-tablet-port-min)
      +background(image_url("bg-msxfellows.jpg") -290px 0 no-repeat, $white)

// Special color bg landing pages with white titles
.page-node-300216,
.page-node-300436,
.page-node-300221,
.page-node-300286,
.page-node-300291,
.page-node-301056,
.page-node-301286,
.page-node-301386,
.page-faculty-research,
.page-giving,
.page-alumni
  #content-wrapper
    +breakpoint($bp-tablet-port-min)
      +background(image_url("bg-landing-whitetitlebar.jpg") center top no-repeat, $white)
      #page-title
        background: rgba($white, 0.6)
        border: 2px $white solid
        margin-bottom: 30px
        padding: 20px

// FOOTER
#footer-wrapper
  background: $grey-f
  #footer
    margin: 0 auto
    max-width: $max-width
    +breakpoint($bp-tablet-port)
      padding: 0 20px
    +breakpoint($bp-mobile-max)
      padding: 0 15px

// LEGAL REGION
#legal
  .region
    border-top: 1px $grey-c solid
    margin: 0 auto
    max-width: $max-width
  +breakpoint($bp-tablet-port)
    padding: 0 20px
  +breakpoint($bp-mobile-max)
    padding: 0 15px

// LOGO
#logo
  display: inline-block
  margin-top: 36px
  img
    display: none
  .svg &
    height: 76px
    width: 289px
    background: image_url("logo.svg") no-repeat
    background-size: 96%
  .no-js &, .no-svg &
    background: image_url("logo.png") no-repeat
  +breakpoint($logo-portrait)
    .svg &
      background-size: 100%
      height: 65px
      width: 230px
    .no-js &, .no-svg &
      max-width: 230px
  +breakpoint($bp-tablet-port)
    margin: 30px 0
    margin-left: 20px
  +breakpoint($bp-mobile-max)
    display: block
    .svg &
      height: 36px
      margin: 15px
      width: 122px
    .no-js &, .no-svg &
      margin: 21px 0 18px 15px
      max-width: 150px
  +breakpoint(769px 919px)
    margin-top: 0
    margin-bottom: 36px

// SITE SLOGAN
#site-slogan
  font-size: 22px
  float: right
  line-height: 60px
  +breakpoint($bp-tablet-port)
    clear: both
    font-size: 18px
    line-height: 1
    padding-right: 20px
    padding-top: 80px
  +breakpoint(705px max-width)
    max-width: 300px
  +breakpoint($bp-mobile-max)
    display: none

.main-content
  a
    border-bottom: 1px dashed $green-light
    color: $green-light
    &:hover
      border-bottom: 1px solid $link-blue
      color: $link-blue

a.no-border
  border: 0
  &:hover
    border: 0

//////////////////
// HIDE PAGE TITLE
/////////////////
// .node-type-publication,
// .business-insight-detail,
// .node-type-case-study,
// .node-type-research-paper,
// .page-business-insights,
.front,
.node-type-news,
.node-type-event,
.page-events,
.node-type-week-in-the-life,
.node-type-msx-fellows
  #page-title
    display: none

// Show page titles again for mobile
.page-events
  #page-title
    +breakpoint($bp-tablet-port-max)
      display: block

// @TODO make this better
// BI HACK for Landings titles
.page-business-insights-business--society,
.page-business-insights-consumer,
.page-business-insights-education,
.page-business-insights-energy,
.page-business-insights-entrepreneurship,
.page-business-insights-finance--economics,
.page-business-insights-global-business,
.page-business-insights-health-care,
.page-business-insights-leadership,
.page-business-insights-management--organizations,
.page-business-insights-marketing,
.page-business-insights-media--entertainment,
.page-business-insights-nonprofit,
.page-business-insights-operations,
.page-business-insights-public-sector,
.page-business-insights-technology,
.page-business-insights-transportation
  #page-title
    display: block
    max-width: 870px

// GRADIENTS AND SHADOWS
.red-button-gradient
  @extend %red-button-gradient

.shadowed-box
  @extend %bg-border-and-box-shadow
  margin-bottom: 30px
  padding: 1px
  .cp-content
    padding: 24px

.designed-box,
.person-list-view,
.pane-gsb-event-sidebar
  @extend %bg-border-and-box-shadow

// Hard-coded class for green rounded button
.green-rounded-button
  @extend %green-button

.separated-box,
.pane-block
  margin-bottom: 30px

//////////////////////
// Links FPP
//////////////////////
%related-links
  padding: 0 24px 24px 24px
  // Links
  .field-type-link-field .field-item
    line-height: 1.3
    padding-bottom: 20px
    a
      color: $red
      font-size: 14px
      font-weight: bold
      text-transform: uppercase

.pane-bundle-links
  .red-bar
    &:before
      content: ""
      width: 120px
      display: block
      height: 10px
      top: -13px
      position: relative
      background-color: $red
    +background(linear-gradient(#e7e7e7, #f0f0f0))
    padding: 13px 25px 20px 25px
    .field-name-field-title
      color: $text-grey
      font-size: 18px
      font-weight: bold
      letter-spacing: -1px
      line-height: 1.3
      margin-bottom: 8px
    .field-name-field-link-unlimited
      .field-item
        line-height: 1.3
        padding-bottom: 9px
        &:last-of-type
          padding-bottom: 0

      a
        color: $red
        font-size: 14px
        font-weight: bold
        text-transform: uppercase
        &[target=_blank]
          &:after
            content: 'i'
            color: #b1aeaf
            text-transform: lowercase
            font-family: "gsb"
            margin-left: 5px

        &:hover
          color: $text-blue
          &:after
            color: $teal-light
  .green-bar
    @extend %bg-border-and-box-shadow
    padding: 0 22px 12px 22px

    .field-name-field-title
      color: $text-black
      font-size: 20px
      font-weight: bold
      padding: 18px 0 11px 0
      line-height: 1.3
    .field-name-field-link-unlimited
      .field-item
        border-top: 1px solid #e4e4e4
        padding-top: 6px
        padding-bottom: 5px
        a
          padding-right: 10px
          color: $text-green
          &[target=_blank]
            &:after
              content: 'i'
              color: #b1aeaf
              text-transform: lowercase
              font-family: "gsb"
              font-size: 18px
              margin-left: 5px

          &:hover
            color: $text-blue
            &:after
              color: $teal-light

  .stanford-links
    position: relative
    padding: 6px 25px 20px 25px
    +background(linear-gradient(top, #e3dac7, #ebe5d9))
    @include filter-gradient(#ebe5d9, #e3dac7, vertical)
    $experimental-support-for-svg: true
    min-height: 75px
    &:before
      content: ""
      width: 100%
      display: block
      height: 3px
      top: -6px
      position: relative
      background-color: $grey-med
    &:after
      content: ''
      +background(image_url("stanford_logo.png") 0 0 no-repeat)
      width: 41px
      height: 41px
      display: block
      position: absolute
      right: 25px
      top: 20px

    .field-name-field-link-unlimited
      padding-right: 30%
      padding-top: 13px
      .field-item
        line-height: 1.3
        padding-bottom: 9px
        &:last-of-type
          padding-bottom: 0

      a
        color: $red
        font-size: 14px
        font-weight: bold
        text-transform: uppercase
        &[target=_blank]
          &:after
            content: 'i'
            color: #b1aeaf
            text-transform: lowercase
            font-family: "gsb"
            margin-left: 5px

        &:hover
          color: $text-blue
          &[target=_blank]
            &:after
              color: $grey-dark

    .field-name-field-title
      display: none

//////////////////////
// Text FPP
//////////////////////
.pane-bundle-text
  @extend %bg-border-and-box-shadow
  padding: 26px
  // Pane title
  .field-name-field-title
    font-family: $font-demi
    font-size: 20px
    font-weight: bold
    line-height: 26px
    padding-bottom: 14px
    .wide-view &,
    .full-view &
      font-size: 26px
      line-height: 30px
    a
      color: $red
      &:after
        color: $grey-med
        content: "\f100"
        font-family: "arrow-double"
        font-size: 22px
        margin-left: 10px
  .field-name-field-body
    .wide-view &,
    .full-view &
      font-size: 18px
      line-height: 24px
    p
      // WPBQA-77
      .wide-view &,
      .full-view &
        font-size: 18px
        line-height: 24px
  .narrow-view &
    .field-name-field-body, p, ul, ol
      font-size: 16px
      line-height: 20px
    +breakpoint($bp-wide-min)
      .field-name-field-title
        font-size: 22px
        line-height: 26px
      .field-name-field-body
        h2
          font-size: 22px
          line-height: 26px
        h3
          font-size: 18px
          line-height: 24px
  // Accordion in a text bundle
  p.acc-title,
  p.acc-body
    clear: both
  p.acc-title
    font-size: 26px
    line-height: 1.1
  p.acc-body
    color: $text-grey
    font-size: 18px
  // mba highlighted
  .mba-highlighted-block
    border-top: 9px solid $teal-light
    padding-top: 20px
    margin-top: -28px

///////////////////////////////////
// Comma separator styling on tags
///////////////////////////////////
.gsb_field_formatter_field_collection_separator,
.field-group-gsb_field_formatter_group_comma_separator
  .entity,
  .field,
  .separator
    display: inline-block
    line-height: 1
  .separator
    margin-right: 5px

.group-tags-wrapper
  margin-top: 13px
  font-size: 14px
  color: $grey-a
  margin-bottom: -6px
  h3
    color: $grey-8
    display: inline-block
    font-size: 14px
    font-weight: normal
    line-height: 1
    margin: 0 5px 0 0
    text-transform: none
  a
    color: $red
    font-size: 14px
    &:hover
      border-bottom: 1px solid $text-blue
      color: $text-blue

.view-mode-teaser
  .group-tags-wrapper
    margin-top: 0

////////////////////////////////
// Comma separators on authors
////////////////////////////////

// Bizin detail authors
// Publications authors
// Case study authors
.field-name-field-person-fac-staff-other,
.field-name-field-person-other,
.field-name-field-person-fac-student-other
  .separator
    position: relative
    left: -4px

// Kill random field.css float for this fc
.field-name-field-person-fac-student-ref
  .field-items
    float: none

// Authors of research paper
.field-name-field-person-fac-student-other
  .field-item
    display: inline

/////////////////
// Author names
/////////////////
.field-name-field-person-other,
.field-name-field-person-fac-student-other
  +clearfix
  color: $black
  font-size: 18px
  font-weight: bold
  .label-inline
    font-weight: bold
    margin-right: 5px
  a
    color: $red
  .field-name-field-first-name
    margin-right: 5px


///////////////////////////
// Menus in sidebar-first
///////////////////////////
.region-sidebar-first
  @extend %black-border-top
  @extend %bg-grey-gradient
  padding: 20px 20px 0 24px
  +breakpoint($bp-tablet-port-max)
    border-top: 0
    padding: 0
  // Menu styling
  ul li
    color: $red
    font-size: 14px
    font-weight: bold
    margin-bottom: 22px
    &.collapsed
      +breakpoint($bp-tablet-port-max)
        &:before
          color: $red
          content: "➕"
          font-family: "entypo"
          font-size: 36px
          font-weight: normal
          position: absolute
          left: 12px
    &.active-trail
      +breakpoint($bp-tablet-port-max)
        &:before
          color: $red
          content: "➖"
          font-family: "entypo"
          font-size: 36px
          font-weight: normal
          position: absolute
          left: 12px
    a
      color: $red
      line-height: 1.2
    // Secondary children
    ul
      margin-top: 16px
      padding-left: 16px
      position: relative
      left: 0
      li
        color: $black
        margin-bottom: 16px
        text-transform: none
        a
          color: $black
        // Terciary children
        ul li,
        ul li a
          font-weight: normal
    a.active
      color: $text-blue
      +breakpoint($bp-wide-min)
        &:before
          color: $text-blue
          content: "\f100"
          float: left
          font-family: "arrow-double"
          font-size: 16px
          font-weight: normal
          position: relative
          width: 0
          left: -12px

////////////////////
// PAGER
////////////////////
.item-list .pager li
  padding: 0

.pager-region
  border-top: 3px solid $text-black
  padding-left: 25px
  margin-bottom: 30px
  .item-list
    display: inline-block
    margin-right: 2px
    vertical-align: top
    ul,
    ul li
      margin: 0
      padding: 0
    a
      color: $white
      font-size: 14px
      font-weight: bold
      line-height: 2.2
      padding: 17px 17px 17px 37px

.pager-load-more
  .pager-next a
    background: $text-green
    text-transform: uppercase
    position: relative
    &:hover
      background: $blue
    &:before
      content: "k"
      font-family: "gsb"
      text-transform: lowercase
      font-size: 18px
      line-height: 1
      margin-left: -20px

// Back to top link
.additional-links
  background: $text-black
  &:hover
    background: $blue
  a
    text-transform: uppercase

// NO RESULTS TEXT
.view-empty
  font-weight: bold
  margin: 24px
  text-transform: uppercase

.panel-separator
  margin-bottom: 30px

  // menu blocks
div.region-content [class*="pane-menu-block"],
  @extend %bg-border-and-box-shadow
  padding: 0 22px 12px 22px
  h2
    color: $text-black
    font-size: 20px
    font-weight: bold
    padding: 18px 0 11px 0
    line-height: 1.3
  .menu
    li
      border-top: 1px solid #e4e4e4
      padding-top: 6px
      padding-bottom: 5px
      a
        padding-right: 10px
        color: $text-green
        &[target=_blank]
          &:after
            content: "\f100"
            font-family: "external-link"
            color: #b1aeaf
            margin-left: 5px
            top: -2px
            position: relative
        &:hover
          color: $text-blue
          &:after
            color: $teal-light
