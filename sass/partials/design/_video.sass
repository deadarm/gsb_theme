// Video

$bp-video: 627px min-width

// Video FPP
.pane-bundle-video,
.node-gsb-video
  .gsb-responsive-preview
    position: relative
    .content img
      display: block
      +breakpoint(768px 569px)
        width: 100%
      +breakpoint($bp-mobile-480)
        width: 100%
  .gsb-responsive-main
    clear: both
    .content div
      margin: 0 auto

// Video list FPP
.pane-bundle-videos
  @extend %bg-and-box-shadow
  padding: 0 $standard-padding

  // Pane title
  .field-name-field-link-single
    @extend %black-border-top
    color: $text-black
    font-family: $font-demi
    font-size: 18px
    font-weight: normal
    line-height: 1.3
    padding-top: 12px
    a
      color: $text-black

  // Video in list
  .field-collection-item-field-video
    +clearfix
    @extend %divider-bottom
    padding: 22px $standard-padding
    margin: 0 -26px
    &:last-of-type
      border-bottom: 0

    // Video title
    .field-name-field-title
      display: inline
      font-size: 22px
      font-weight: bold
      line-height: 1.3
      &:hover
        text-decoration: underline
      .wide-view &
        max-width: 65%
        +breakpoint(710px 569px)
          max-width: 100%
        +breakpoint(365px max-width)
          max-width: 100%
      .narrow-view &
        +breakpoint(568px 321px)
          max-width: 65%

    .video-channeltitle,
    .video-viewcount
      font-size: 14px
      line-height: 1.2
      .wide-view &
        max-width: 65%
        +breakpoint(710px 569px)
          max-width: 100%
        +breakpoint(365px max-width)
          max-width: 100%
      .narrow-view &
        +breakpoint(568px 321px)
          max-width: 65%

    // Video attribution
    .video-channeltitle
      margin-top: 8px
      span
        margin-right: 5px

    // Video view count
    .video-viewcount
      margin-bottom: 8px
      span
        margin-left: 5px

    // Video description
    .field-name-field-body
      font-size: 16px
      line-height: 1.3
      .wide-view &
        max-width: 65%
        +breakpoint(710px 569px)
          max-width: 100%
        +breakpoint(365px max-width)
          max-width: 100%
      .narrow-view &
        +breakpoint(568px 321px)
          max-width: 65%

    // Video wrapper
    .group-wrapper-video
      position: relative
      .wide-view &
        float: right
        margin-left: 10px
        max-width: 125px
        +breakpoint(710px 569px)
          float: none
          margin-bottom: 12px
          margin-left: 0
          max-width: 216px
        +breakpoint(365px max-width)
          float: none
          margin-bottom: 12px
          margin-left: 0
          max-width: 216px
      .narrow-view &
        margin-bottom: 12px
        max-width: 216px
        +breakpoint(568px 321px)
          float: right
          margin-left: 10px
          max-width: 125px

    // Video thumbnail
    .field-name-field-video-url
      // Special icon width
      .gsb-image-video-popup
        a.fancybox
          +icon-before("circle", true)
          &:before
            font-size: 51px
            margin-top: -30px
            margin-left: -22px
          +icon-after("play", true)
          &:after
            font-size: 16px
            margin-top: -12px
            margin-left: -4px

      .field-type-file
        .gsb-responsive-preview .file-video
          a
            +icon-before("circle", true)
            &:before
              font-size: 51px
              margin-top: -30px
              margin-left: -22px
            +icon-after("play", true)
            &:after
              font-size: 16px
              margin-top: -12px
              margin-left: -4px

    // Video time duration
    .video-duration
      background: $text-black
      color: $white
      display: inline-block
      float: right
      font-size: 11px
      font-weight: bold
      line-height: 1.2
      padding: 4px
      position: absolute
      right: 0
      bottom: 2px

// Videos in slideshows
.full-view .slideshow-cta
  .slideshow-slide
    .gsb-image-video-popup
      a.fancybox
        &:before
          margin-left: -96px
        &:after
          margin-left: -74px

.slideshow-simple
  .slideshow-slide
    .gsb-image-video-popup
      a.fancybox
        &:before
          margin-left: -130px
          margin-top: -80px
        &:after
          margin-top: -61px
          margin-left: -108px

// Main video responsive play button and width
.gsb-image-video-popup
  max-width: 270px
  .slideshow-slide &
    max-width: 627px

  a.fancybox
    max-width: 100%
    position: relative
    display: inline-block
    &:before, &:after
      position: absolute
      z-index: 50
      top: 50%
      left: 50%
      .slideshow-cta &
        +breakpoint($bp-mobile-max)
          left: 63%
        +breakpoint($bp-mobile)
          left: 73%

    +icon-before("circle", true)
    &:before
      font-size: 64px
      color: rgba(0, 0, 0, 0.5)
      margin-top: -40px
      margin-left: -32px

    +icon-after("play", true)
    &:after
      font-size: 21px
      color: $white
      margin-top: -21px
      margin-left: -10px

    &:hover
      &:before
        color: rgba(0,0,0,1)
      &:after
        color: $blue-light
  &.image
    a
      display: none
      &:before,
      &:after
        display: none

// CSS to handle the Preview and Video switching
.field-type-file
  .gsb-responsive-main .file-video
    display: none
    +breakpoint($bp-video)
      display: block
  .gsb-responsive-preview .file-video
    a
      position: relative
      display: inline-block
      &:before, &:after
        position: absolute
        top: 50%
        left: 50%
      +icon-before("circle", true)
      &:before
        font-size: 64px
        color: rgba(0, 0, 0, 0.8)
        margin-top: -40px
        margin-left: -32px
      +icon-after("play", true)
      &:after
        font-size: 21px
        color: $white
        margin-top: -21px
        margin-left: -10px
      &:hover
        &:before
          color: rgba(0,0,0,1)
        &:after
          color: $blue-light
    +breakpoint($bp-video)
      display: none

// Fix only for the landing one layout in sidebar
.narrow-view
  .field-type-file
    .gsb-responsive-main .file-video
      display: none
    .gsb-responsive-preview .file-video
      display: block

// Always hide the main video for spotlight and teaser mode of video ct, always show preview
.pane-bundle-spotlight,
.node-gsb-video.view-mode-teaser
  .gsb-responsive-main .file-video
    display: none !important
  .gsb-responsive-preview .file-video
    display: block !important
  .video-play-icon
    display: none
