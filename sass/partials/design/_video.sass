// VIDEO

$bp-video: 627px min-width

// Video FPP
.pane-bundle-video,
.node-gsb-video
  .gsb-responsive-preview
    position: relative
    .content img
      display: block
      +breakpoint(768px 569px)
        width: 100%
      +breakpoint($bp-mobile-480)
        width: 100%
  .gsb-responsive-main
    clear: both
    .content div
      margin: 0 auto

// Videos in slideshows
.full-view .slideshow-cta
  .slideshow-slide
    .gsb-image-video-popup
      a.fancybox
        &:before
          margin-left: -96px
        &:after
          margin-left: -74px

.slideshow-simple
  .slideshow-slide
    .gsb-image-video-popup
      a.fancybox
        &:before
          margin-left: -130px
          margin-top: -80px
        &:after
          margin-top: -61px
          margin-left: -108px

// Main video responsive play button and width
.gsb-image-video-popup
  max-width: 270px
  .slideshow-slide &
    max-width: 627px

  a.fancybox
    max-width: 100%
    position: relative
    display: inline-block
    &:before, &:after
      position: absolute
      z-index: 50
      top: 50%
      left: 50%
      .slideshow-cta &
        +breakpoint($bp-mobile-max)
          left: 63%
        +breakpoint($bp-mobile)
          left: 73%

    +icon-before("circle", true)
    &:before
      font-size: 64px
      color: rgba(0, 0, 0, 0.5)
      margin-top: -40px
      margin-left: -32px

    +icon-after("play", true)
    &:after
      font-size: 21px
      color: $white
      margin-top: -21px
      margin-left: -10px

    &:hover
      &:before
        color: rgba(0,0,0,1)
      &:after
        color: $blue-light
  &.image
    a
      display: none
      &:before,
      &:after
        display: none

// CSS to handle the Preview and Video switching
.field-type-file
  .gsb-responsive-main .file-video
    display: none
    +breakpoint($bp-video)
      display: block
  .gsb-responsive-preview .file-video
    a
      position: relative
      display: inline-block
      &:before, &:after
        position: absolute
        top: 50%
        left: 50%
      +icon-before("circle", true)
      &:before
        font-size: 64px
        color: rgba(0, 0, 0, 0.8)
        margin-top: -40px
        margin-left: -32px
      +icon-after("play", true)
      &:after
        font-size: 21px
        color: $white
        margin-top: -21px
        margin-left: -10px
      &:hover
        &:before
          color: rgba(0,0,0,1)
        &:after
          color: $blue-light
    +breakpoint($bp-video)
      display: none

// Fix only for the landing one layout in sidebar
.narrow-view
  .field-type-file
    .gsb-responsive-main .file-video
      display: none
    .gsb-responsive-preview .file-video
      display: block

// Always hide the main video for spotlight and teaser mode of video ct, always show preview
.pane-bundle-spotlight,
.node-gsb-video.view-mode-teaser
  .gsb-responsive-main .file-video
    display: none !important
  .gsb-responsive-preview .file-video
    display: block !important
  .video-play-icon
    display: none
